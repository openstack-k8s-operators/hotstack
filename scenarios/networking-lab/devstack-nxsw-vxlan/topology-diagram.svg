<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <style>
      .switch-box { fill: #4A90E2; stroke: #2E5C8A; stroke-width: 2; }
      .server-box { fill: #7ED321; stroke: #5FA019; stroke-width: 2; }
      .controller-box { fill: #F5A623; stroke: #D68910; stroke-width: 2; }
      .switch-text { fill: white; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .label-text { fill: rgba(255, 255, 255, 0.9); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .ip-text { fill: rgba(255, 255, 255, 0.85); font-family: monospace; font-size: 10px; text-anchor: middle; }
      .link-line { stroke: #6a737d; stroke-width: 2; fill: none; }
      .link-label { fill: #8b949e; font-family: monospace; font-size: 9px; text-anchor: middle; }
      .mgmt-line { stroke: #F5A623; stroke-width: 2; stroke-dasharray: 5,5; fill: none; }
      .bgp-line { stroke: #9B59B6; stroke-width: 2; stroke-dasharray: 3,3; fill: none; }
      .bg-label { fill: #6a737d; font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
    </style>
  </defs>

  <!-- Title -->
  <text x="400" y="25" style="font-family: Arial; font-size: 20px; font-weight: bold; text-anchor: middle; fill: #6a737d;">
    Spine-and-Leaf Topology (BGP AS 65001)
  </text>

  <!-- Management Network Line -->
  <line x1="50" y1="60" x2="750" y2="60" class="mgmt-line"/>
  <text x="400" y="53" class="bg-label">Management Network (192.168.32.0/24)</text>

  <!-- Controller -->
  <rect x="650" y="80" width="100" height="60" rx="5" class="controller-box"/>
  <text x="700" y="105" class="switch-text">controller</text>
  <text x="700" y="125" class="ip-text">192.168.32.254</text>

  <!-- Spine Switches -->
  <!-- Spine01 -->
  <rect x="150" y="100" width="120" height="70" rx="5" class="switch-box"/>
  <text x="210" y="125" class="switch-text">spine01</text>
  <text x="210" y="142" class="label-text">(RR)</text>
  <text x="210" y="157" class="ip-text">10.255.255.1</text>

  <!-- Spine02 -->
  <rect x="450" y="100" width="120" height="70" rx="5" class="switch-box"/>
  <text x="510" y="125" class="switch-text">spine02</text>
  <text x="510" y="142" class="label-text">(RR)</text>
  <text x="510" y="157" class="ip-text">10.255.255.2</text>

  <!-- Spine to Spine link -->
  <line x1="270" y1="135" x2="450" y2="135" class="link-line"/>
  <text x="360" y="130" class="link-label">10.1.1.0/30</text>

  <!-- Leaf Switches -->
  <!-- Leaf01 -->
  <rect x="150" y="280" width="120" height="70" rx="5" class="switch-box"/>
  <text x="210" y="305" class="switch-text">leaf01</text>
  <text x="210" y="322" class="label-text">(RRC, NVE1)</text>
  <text x="210" y="337" class="ip-text">10.255.255.3</text>

  <!-- Leaf02 -->
  <rect x="450" y="280" width="120" height="70" rx="5" class="switch-box"/>
  <text x="510" y="305" class="switch-text">leaf02</text>
  <text x="510" y="322" class="label-text">(RRC, NVE1)</text>
  <text x="510" y="337" class="ip-text">10.255.255.4</text>

  <!-- Spine01 to Leaf01 -->
  <line x1="210" y1="170" x2="210" y2="280" class="link-line"/>
  <text x="195" y="220" class="link-label">10.1.1.4/30</text>

  <!-- Spine01 to Leaf02 -->
  <line x1="230" y1="170" x2="490" y2="280" class="link-line"/>
  <text x="295" y="200" class="link-label">10.1.1.12/30</text>

  <!-- Spine02 to Leaf01 -->
  <line x1="490" y1="170" x2="230" y2="280" class="link-line"/>
  <text x="420" y="200" class="link-label">10.1.1.8/30</text>

  <!-- Spine02 to Leaf02 -->
  <line x1="510" y1="170" x2="510" y2="280" class="link-line"/>
  <text x="520" y="220" class="link-label">10.1.1.16/30</text>

  <!-- Server Nodes -->
  <!-- Devstack -->
  <rect x="100" y="450" width="100" height="60" rx="5" class="server-box"/>
  <text x="150" y="475" class="switch-text">devstack</text>
  <text x="150" y="495" class="ip-text">192.168.32.20</text>

  <!-- Ironic0 -->
  <rect x="220" y="450" width="100" height="60" rx="5" class="server-box"/>
  <text x="270" y="475" class="switch-text">ironic0</text>
  <text x="270" y="495" class="ip-text">BM Node</text>

  <!-- Ironic1 -->
  <rect x="460" y="450" width="100" height="60" rx="5" class="server-box"/>
  <text x="510" y="475" class="switch-text">ironic1</text>
  <text x="510" y="495" class="ip-text">BM Node</text>

  <!-- Server to Switch connections -->
  <!-- Devstack to Leaf01 -->
  <line x1="150" y1="450" x2="180" y2="350" class="link-line"/>
  <text x="155" y="395" class="link-label">Eth1/5</text>

  <!-- Ironic0 to Leaf01 -->
  <line x1="270" y1="450" x2="240" y2="350" class="link-line"/>
  <text x="265" y="395" class="link-label">Eth1/4</text>

  <!-- Ironic1 to Leaf02 -->
  <line x1="510" y1="450" x2="510" y2="350" class="link-line"/>
  <text x="525" y="395" class="link-label">Eth1/4</text>

  <!-- Legend -->
  <g transform="translate(620, 380)">
    <text x="0" y="0" style="font-family: Arial; font-size: 12px; font-weight: bold; fill: #6a737d;">Legend</text>
    <rect x="0" y="10" width="30" height="20" rx="3" class="switch-box"/>
    <text x="35" y="25" style="font-family: Arial; font-size: 11px; fill: #6a737d;">Switch</text>
    <rect x="0" y="35" width="30" height="20" rx="3" class="server-box"/>
    <text x="35" y="50" style="font-family: Arial; font-size: 11px; fill: #6a737d;">Server</text>
    <rect x="0" y="60" width="30" height="20" rx="3" class="controller-box"/>
    <text x="35" y="75" style="font-family: Arial; font-size: 11px; fill: #6a737d;">Controller</text>
    <line x1="0" y1="90" x2="30" y2="90" class="link-line"/>
    <text x="35" y="95" style="font-family: Arial; font-size: 11px; fill: #6a737d;">P2P Link</text>
    <line x1="0" y1="105" x2="30" y2="105" class="mgmt-line"/>
    <text x="35" y="110" style="font-family: Arial; font-size: 11px; fill: #6a737d;">Management</text>
    <line x1="0" y1="120" x2="30" y2="120" class="bgp-line"/>
    <text x="35" y="125" style="font-family: Arial; font-size: 11px; fill: #6a737d;">BGP EVPN</text>
  </g>

  <!-- Notes -->
  <text x="400" y="560" style="font-family: Arial; font-size: 10px; text-anchor: middle; fill: #8b949e;">
    BGP EVPN: AS 65001 iBGP | RR=Route Reflector | RRC=Route Reflector Client | NVE1=VXLAN VTEP
  </text>
  <text x="400" y="575" style="font-family: Arial; font-size: 10px; text-anchor: middle; fill: #8b949e;">
    Leaf Ethernet1/3: Trunk for VLANs 100,103-105 | Eth1/4: Ironic | Eth1/5: Devstack (Leaf01 only)
  </text>
</svg>
