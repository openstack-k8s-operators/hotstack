---
# Bootstrap configuration for networking lab scenario

# OpenStack cloud configuration
os_cloud: default
os_floating_network: public
os_router_external_network: public

# Scenario configuration
scenario: devstack-nxsw-vxlan
scenario_dir: scenarios/networking-lab
stack_template_path: "{{ scenario_dir }}/{{ scenario }}/heat_template.yaml"
automation_vars_file: "{{ scenario_dir }}/{{ scenario }}/automation-vars.yml"

# Files to compress for user data (relative to heat template directory)
compress_heat_files:
  - archive: tftpboot-poap
    files:
      - spine01-poap.py
      - spine01-poap.cfg
      - spine02-poap.py
      - spine02-poap.cfg
      - leaf01-poap.py
      - leaf01-poap.cfg
      - leaf02-poap.py
      - leaf02-poap.cfg

# DNS and NTP
ntp_servers: []
dns_servers:
  - 8.8.8.8
  - 8.8.4.4

# Pull secret for container images (if needed)
# pull_secret_file: ~/pull-secret.txt

# Stack naming
stack_name: "hs-{{ scenario | replace('/', '-') }}-{{ zuul.build[:8] | default('no-zuul') }}"

# Stack parameters
stack_parameters:
  dns_servers: "{{ dns_servers }}"
  ntp_servers: "{{ ntp_servers }}"
  controller_ssh_pub_key: "{{ controller_ssh_pub_key | default('') }}"
  dataplane_ssh_pub_key: "{{ dataplane_ssh_pub_key | default('') }}"
  router_external_network: "{{ os_router_external_network | default('public') }}"
  floating_ip_network: "{{ os_floating_network | default('public') }}"
  controller_params:
    image: hotstack-controller
    flavor: hotstack.small
  devstack_params:
    image: ubuntu-noble-server
    flavor: hotstack.xxlarge
  switch_params:
    image: nexus9300v.9.3.15
    flavor: hotstack.large
  ironic_params:
    image: CentOS-Stream-GenericCloud-9
    cd_image: sushy-tools-blank-image
    flavor: hotstack.medium

# Controller role configuration
controller_install_openstack_client: true
