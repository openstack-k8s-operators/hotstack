<!--
// Assisted by watsonx Code Assistant
// Code generated by WCA@IBM in this programming language is not approved for use in IBM product development.
-->
# AI generated README

## Heat Orchestration Template (HOT)

The `heat_template.yaml` template is used to deploy and manage infrastructure resources in OpenStack. The template sets up a 4-node infrastructure consisting of a Controller node, an OpenShift Container Platform (OCP) Master node, and two Ironic nodes.

## Hotstack Hotloop Automation Pipeline

The YAML `automation-vars.yml` defines a Hotstack hotloop automation pipeline, which automates the deployment and configuration of an OpenStack environment on an OpenShift cluster. The pipeline consists of several stages, each representing a specific task or set of tasks in the deployment process.

### Stages

1. **TopoLVM Common**
   - **Documentation**: Installs the TopoLVM Container Storage Interface (CSI) driver on the OCP cluster using LVMS (Logical Volume Manager Storage) for dynamic provisioning of local storage.
   - **Manifest**: Refers to the `topolvm.yaml` file for the deployment manifest.
   - **Wait conditions**: Checks the status of namespaces, operator groups, and ClusterServiceVersion resources.

2. **TopoLVM LVMCluster**
   - **Documentation**: Creates a TopoLVM - LVMCluster on the OpenShift cluster, configuring the LVMCluster custom resource (CR) to create LVM volume groups and configure a list of devices for the volume groups.
   - **Manifest**: Refers to the `topolvmcluster.yaml` file for the deployment manifest.
   - **Wait conditions**: Checks the status of the LVMCluster CR.

3. **Node Label cinder-lvm**
   - **Documentation**: Applies the `openstack.org/cinder-lvm=` label to a specific node, ensuring that only one node has this label for the Cinder LVM backend.
   - **Command**: Uses `oc label` to apply the label to the specified node.

4. **Common OLM**
   - **Documentation**: Installs OpenStack K8S operators and their dependencies using Operator Lifecycle Manager (OLM).
   - **J2 Manifest**: Refers to the `olm.yaml.j2` file for the deployment manifest, which uses Jinja2 templating.
   - **Wait conditions**: Checks the status of various namespaces, OperatorGroup, and Subscription CRs, as well as the readiness of specific pods.

5. **Common MetalLB**
   - **Manifest**: Refers to the `metallb.yaml` file for the deployment manifest, which configures MetalLB for load balancing.
   - **Wait conditions**: Checks the status of MetalLB speaker pods.

6. **Common NMState**
   - **Manifest**: Refers to the `nmstate.yaml` file for the deployment manifest, which configures NetworkManager for network policies.
   - **Wait conditions**: Checks the status of NMState operator and webhook deployments.

7. **Openstack**
   - **Manifest**: Refers to the `openstack.yaml` file for the deployment manifest, which configures the OpenStack operators and services.
   - **Wait conditions**: Checks the status of OpenStack operator, deployment, and service resources.

8. **NodeNetworkConfigurationPolicy (nncp)**
   - **Manifest**: Refers to the `nncp.yaml` file for the deployment manifest, which configures NodeNetworkConfigurationPolicy resources for network policies.
   - **Wait conditions**: Checks the status of nncp resources.

9. **NetworkAttchmentDefinition (NAD)**
   - **Manifest**: Refers to the `nad.yaml` file for the deployment manifest, which configures NetworkAttachmentDefinitions for network policies.

10. **MetalLB - L2Advertisement and IPAddressPool**
    - **Manifest**: Refers to the `metallb.yaml` file for the deployment manifest, which configures MetalLB for L2 advertisement and IP address pools.

11. **Netconfig**
    - **Manifest**: Refers to the `netconfig.yaml` file for the deployment manifest, which configures network settings.

12. **OpenstackControlPlane**
    - **Manifest**: Refers to the `control-plane.yaml` file for the deployment manifest, which configures the OpenStack control plane.
    - **Wait conditions**: Checks the status of the OpenStack control plane resource.

In summary, this YAML snippet defines a Hotstack hotloop automation pipeline, which automates the deployment and configuration of an OpenStack environment on an OpenShift cluster. Each stage represents a specific task or set of tasks in the deployment process, with documentation, manifest references, and wait conditions provided for each stage.
